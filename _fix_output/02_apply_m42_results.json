{
  "results": {
    "step": "Ã‰TAPE 2 - Application M42",
    "timestamp_start": "2026-01-04T16:26:31.672Z",
    "checks": {
      "before_disponibilite_id": {
        "exists": "unknown",
        "error": ""
      },
      "tickets_disponibilites_exists": true,
      "after_disponibilite_id": {
        "exists": "unknown",
        "error": ""
      }
    },
    "status": "PENDING_MANUAL",
    "instructions": "\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘  INSTRUCTIONS APPLICATION MANUELLE MIGRATION M42               â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nIMPOSSIBLE D'APPLIQUER VIA SUPABASE JS SDK (limitation DDL)\n\nMÃ‰THODE 1 (RECOMMANDÃ‰E): Supabase Studio SQL Editor\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n1. Ouvrir: https://bwzyajsrmfhrxdmfpyqy.supabase.co/project/_/sql\n2. Copier contenu: supabase/migrations/20260104001800_m42_add_disponibilite_id_missions.sql\n3. ExÃ©cuter (RUN)\n4. VÃ©rifier logs: \"âœ… M42: Colonne disponibilite_id ajoutÃ©e Ã  missions\"\n\nMÃ‰THODE 2 (FALLBACK): psql CLI\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\npsql \"$DATABASE_URL\" -f supabase/migrations/20260104001800_m42_add_disponibilite_id_missions.sql\n\nMÃ‰THODE 3 (ALTERNATIVE): Supabase CLI\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nsupabase link --project-ref bwzyajsrmfhrxdmfpyqy\nsupabase db push\n\nAPRÃˆS APPLICATION:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nRelancer ce script pour vÃ©rifier application:\nnode _fix_step2_apply_m42.js\n",
    "migration_file": "supabase/migrations/20260104001800_m42_add_disponibilite_id_missions.sql",
    "message": "Migration prÃªte, application manuelle requise",
    "timestamp_end": "2026-01-04T16:26:32.352Z"
  },
  "log": [
    {
      "timestamp": "2026-01-04T16:26:31.672Z",
      "message": "ğŸ“‹ PHASE 1: VÃ‰RIFICATIONS AVANT APPLICATION",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:31.673Z",
      "message": "ğŸ” VÃ©rification colonne missions.disponibilite_id...",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.063Z",
      "message": "   âš ï¸ Erreur: ",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.063Z",
      "message": "ğŸ” VÃ©rification table tickets_disponibilites...",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.238Z",
      "message": "   âœ… Table tickets_disponibilites accessible",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.238Z",
      "message": "\nğŸ“‹ PHASE 2: APPLICATION MIGRATION M42",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.238Z",
      "message": "âš ï¸ LIMITATION: Supabase JS SDK ne peut pas exÃ©cuter DDL (ALTER TABLE)",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.238Z",
      "message": "â„¹ï¸ MÃ‰THODE REQUISE: Application manuelle via Supabase Studio SQL Editor",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.238Z",
      "message": "\nğŸ“„ CONTENU MIGRATION M42:",
      "data": {
        "file": "20260104001800_m42_add_disponibilite_id_missions.sql",
        "lines": 47,
        "preview": "-- ============================================================\n-- MIGRATION M42: Ajouter colonne disponibilite_id Ã  missions\n-- ============================================================\n-- Date: 2026-01-04\n-- Auteur: Ajout crÃ©neau sÃ©lectionnÃ© dans missions\n-- Objectif: Enregistrer quel crÃ©neau a..."
      }
    },
    {
      "timestamp": "2026-01-04T16:26:32.239Z",
      "message": "\nğŸ’¾ Migration SQL copiÃ©e dans: _fix_output/02_migration_m42_to_apply.sql",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.240Z",
      "message": "\nğŸ“‹ PHASE 3: VÃ‰RIFICATION POST-APPLICATION (test)",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.240Z",
      "message": "ğŸ” VÃ©rification colonne missions.disponibilite_id...",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.352Z",
      "message": "   âš ï¸ Erreur: ",
      "data": null
    },
    {
      "timestamp": "2026-01-04T16:26:32.352Z",
      "message": "â³ Migration M42 EN ATTENTE D'APPLICATION MANUELLE",
      "data": null
    }
  ]
}