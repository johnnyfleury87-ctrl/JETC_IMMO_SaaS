<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hub DEMO - JETC_IMMO</title>
  <link rel="stylesheet" href="/css/design-system.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-blue) 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    /* Logo */
    .logo-demo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .logo-demo img {
      height: 48px;
      width: auto;
    }

    .logo-demo h1 {
      font-size: 28px;
      font-weight: 700;
      color: white;
      margin: 0;
    }

    /* Header */
    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .header h2 {
      font-size: 42px;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .header p {
      font-size: 18px;
      opacity: 0.95;
    }

    .demo-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      padding: 8px 20px;
      border-radius: 20px;
      margin-top: 15px;
      font-weight: 600;
    }

    /* Role Cards */
    .roles-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    .role-card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .role-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, var(--primary-blue), var(--accent-blue));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .role-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .role-card:hover::before {
      transform: scaleX(1);
    }

    .role-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .role-card h3 {
      font-size: 24px;
      margin-bottom: 12px;
      color: var(--primary-blue);
    }

    .role-card p {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 25px;
      min-height: 48px;
    }

    .role-btn {
      background: linear-gradient(135deg, var(--primary-blue), var(--accent-blue));
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: var(--radius-md);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      box-shadow: var(--shadow-sm);
    }

    .role-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    /* Actions */
    .actions {
      text-align: center;
      margin-top: 40px;
    }

    .btn-back {
      display: inline-block;
      padding: 12px 30px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .btn-back:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    /* Warning Banner */
    .warning {
      background: rgba(255, 255, 255, 0.95);
      border-left: 4px solid #f59e0b;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .warning-icon {
      font-size: 32px;
    }

    .warning-content h4 {
      color: #f59e0b;
      margin-bottom: 8px;
      font-size: 18px;
    }

    .warning-content p {
      color: #666;
      font-size: 14px;
      line-height: 1.5;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .logo-demo h1 {
        font-size: 22px;
      }

      .logo-demo img {
        height: 36px;
      }

      .header h2 {
        font-size: 28px;
      }

      .roles-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Logo -->
    <div class="logo-demo">
      <img src="/logo_moi.png" alt="JETC_IMMO Logo">
      <h1>JETC_IMMO</h1>
    </div>

    <!-- Header -->
    <div class="header">
      <h2 id="chooseRole">Choisissez votre r√¥le</h2>
      <p>Explorez JETC_IMMO sous diff√©rentes perspectives</p>
      <span class="demo-badge">üéÆ <span id="demoMode">MODE DEMO</span></span>
    </div>

    <!-- Warning -->
    <div class="warning">
      <div class="warning-icon">‚ö†Ô∏è</div>
      <div class="warning-content">
        <h4 id="demoSimulation">Ceci est une simulation</h4>
        <p id="noRealData">Aucune donn√©e r√©elle n'a √©t√© enregistr√©e. Toutes les actions sont simul√©es c√¥t√© navigateur uniquement.</p>
      </div>
    </div>

    <!-- Roles Grid -->
    <div class="roles-grid">
      <!-- R√©gie -->
      <div class="role-card" onclick="selectRole('regie')">
        <div class="role-icon">üè¢</div>
        <h3 id="roleRegie">R√©gie</h3>
        <p id="roleRegieDesc">G√©rer immeubles, logements et tickets</p>
        <button class="role-btn" id="enterDemo1">Entrer en d√©mo</button>
      </div>

      <!-- Entreprise -->
      <div class="role-card" onclick="selectRole('entreprise')">
        <div class="role-icon">üèóÔ∏è</div>
        <h3 id="roleEntreprise">Entreprise</h3>
        <p id="roleEntrepriseDesc">Accepter des missions et g√©rer vos techniciens</p>
        <button class="role-btn" id="enterDemo2">Entrer en d√©mo</button>
      </div>

      <!-- Locataire -->
      <div class="role-card" onclick="selectRole('locataire')">
        <div class="role-icon">üë§</div>
        <h3 id="roleLocataire">Locataire</h3>
        <p id="roleLocataireDesc">D√©clarer et suivre vos tickets</p>
        <button class="role-btn" id="enterDemo3">Entrer en d√©mo</button>
      </div>

      <!-- Technicien -->
      <div class="role-card" onclick="selectRole('technicien')">
        <div class="role-icon">üîß</div>
        <h3 id="roleTechnicien">Technicien</h3>
        <p id="roleTechnicienDesc">Intervenir sur vos missions assign√©es</p>
        <button class="role-btn" id="enterDemo4">Entrer en d√©mo</button>
      </div>

      <!-- Admin JTEC -->
      <div class="role-card" onclick="selectRole('admin_jtec')">
        <div class="role-icon">‚öôÔ∏è</div>
        <h3 id="roleAdmin">Admin JTEC</h3>
        <p id="roleAdminDesc">Vue globale et statistiques</p>
        <button class="role-btn" id="enterDemo5">Entrer en d√©mo</button>
      </div>
    </div>

    <!-- Actions -->
    <div class="actions">
      <a href="/index.html" class="btn-back" id="backToHome">‚Üê Retour √† l'accueil</a>
    </div>
  </div>

  <!-- Scripts -->
  <!-- ‚úÖ M22.5: Inline i18n et demoProfiles (√©vite 404 /src/ en prod) -->
  <script>
    // i18n minimal inline
    function getCurrentLanguage() { return 'fr'; }
    function getAllTranslations() {
      return {
        demoMode: 'Mode D√©mo',
        loginAsDemo: 'Se connecter en tant que d√©mo',
      };
    }
    // demoProfiles inline
    const demoProfiles = {
      regie: { email: 'demo.regie@jetc.ch', password: 'demo123' },
      locataire: { email: 'demo.locataire@jetc.ch', password: 'demo123' },
      entreprise: { email: 'demo.entreprise@jetc.ch', password: 'demo123' },
      technicien: { email: 'demo.technicien@jetc.ch', password: 'demo123' }
    };
  </script>
  <script>
    // Initialisation de la langue
    function initLanguage() {
      const currentLang = getCurrentLanguage();
      console.log('[DEMO HUB] Langue active:', currentLang);
      
      // Appliquer les traductions
      const translations = getAllTranslations();
      
      Object.keys(translations).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
          element.textContent = translations[key];
        }
      });
      
      // Mettre √† jour tous les boutons "Entrer en d√©mo"
      document.querySelectorAll('[id^="enterDemo"]').forEach(btn => {
        btn.textContent = translations.enterDemo || 'Entrer en d√©mo';
      });
      
      document.documentElement.lang = currentLang;
    }

    // S√©lectionner un r√¥le et entrer en DEMO
    function selectRole(role) {
      console.log('[DEMO HUB] R√¥le s√©lectionn√©:', role);
      
      // Activer le MODE DEMO avec ce r√¥le
      const success = activateDemoMode(role);
      
      if (!success) {
        alert('Erreur lors de l\'activation du mode DEMO');
        return;
      }
      
      // Redirection vers le dashboard du r√¥le
      // TODO: Cr√©er ces pages aux prochaines √©tapes
      const dashboardRoutes = {
        regie: '/demo/regie/dashboard.html',
        entreprise: '/demo/entreprise/dashboard.html',
        locataire: '/demo/locataire/dashboard.html',
        technicien: '/demo/technicien/dashboard.html',
        admin_jtec: '/demo/admin/dashboard.html'
      };
      
      const route = dashboardRoutes[role];
      
      if (route) {
        console.log('[DEMO HUB] Redirection vers:', route);
        // Pour l'instant, afficher un message
        alert(`Mode DEMO activ√© pour le r√¥le: ${role}\n\nLe dashboard sera cr√©√© aux prochaines √©tapes.\n\nRetour √† l'accueil...`);
        window.location.href = '/index.html';
      } else {
        alert('Route non d√©finie pour ce r√¥le');
      }
    }

    // V√©rifier si un utilisateur PRO est connect√©
    function checkProUser() {
      // TODO: √Ä impl√©menter √† l'√âTAPE 2
      // Si utilisateur PRO connect√© ‚Üí rediriger vers son dashboard
      // Car DEMO interdit pour utilisateurs connect√©s
    }

    // Initialisation
    document.addEventListener('DOMContentLoaded', () => {
      initLanguage();
      checkProUser();
      console.log('[DEMO HUB] Page initialis√©e');
    });
  </script>
</body>
</html>
