file_name,inferred_m_number,type,depends_on
2025-12-20_migration_locataires_contraintes.sql,NONE,forward,
2025-12-20_rls_locataires_policies.sql,NONE,forward,
2025-12-20_rpc_creer_locataire.sql,NONE,forward,
2025-12-20_temporary_passwords.sql,NONE,forward,
2025-12-21_fix_locataire_sans_logement.sql,NONE,forward,
20251223000000_add_regie_id_to_locataires.sql,NONE,forward,
20251223000001_add_fk_profiles_regie_id.sql,NONE,forward,
20251223000001_fix_temporary_passwords_no_bcrypt.sql,NONE,forward,
20251223000002_add_trigger_ticket_requires_logement.sql,NONE,forward,
20251223000002_create_temporary_passwords_complete.sql,NONE,forward,
20251223000003_add_unique_active_locataire.sql,NONE,forward,
20251223000004_fix_rls_recursion_immeubles.sql,NONE,forward,
20251223000100_logements_regie_id.sql,NONE,forward,
20251224000000_fix_logement_id_nullable.sql,NONE,forward,
20251224000001_logements_adresse_caracteristiques.sql,NONE,forward,
20251224000002_immeubles_npa_suisse_caracteristiques.sql,NONE,forward,
20251226170000_m01_add_budget_columns.sql,M01,forward,
20251226170000_m01_add_budget_columns_rollback.sql,M01,rollback,
20251226170100_m02_add_mode_diffusion.sql,M02,forward,
20251226170100_m02_add_mode_diffusion_rollback.sql,M02,rollback,
20251226170200_m03_create_rpc_update_ticket_statut.sql,M03,forward,
20251226170200_m03_create_rpc_update_ticket_statut_rollback.sql,M03,rollback,
20251226170300_m04_create_rpc_diffuser_ticket.sql,M04,forward,
20251226170300_m04_create_rpc_diffuser_ticket_rollback.sql,M04,rollback,
20251226170400_m05_fix_rpc_accept_ticket.sql,M05,forward,
20251226170400_m05_fix_rpc_accept_ticket_rollback.sql,M05,rollback,
20251226170500_m06_fix_view_tickets_visibles_entreprise.sql,M06,forward,
20251226170500_m06_fix_view_tickets_visibles_entreprise_rollback.sql,M06,rollback,
20251226170600_m07_fix_rls_policy_entreprise.sql,M07,forward,
20251226170600_m07_fix_rls_policy_entreprise_rollback.sql,M07,rollback,
20251226170700_m08_add_classification_columns.sql,M08,forward,
20251226170700_m08_add_classification_columns_rollback.sql,M08,rollback,
20251226170800_m09_create_tickets_disponibilites.sql,M09,forward,
20251226170800_m09_create_tickets_disponibilites_rollback.sql,M09,rollback,
20251226170900_m10_create_trigger_validate_disponibilites.sql,M10,forward,
20251226170900_m10_create_trigger_validate_disponibilites_rollback.sql,M10,rollback,
20251226171000_m11_harmonize_missions_montant_chf.sql,M11,forward,
20251226171000_m11_harmonize_missions_montant_chf_rollback.sql,M11,rollback,
20251226171100_m13_secure_delete_tickets_rls.sql,M13,forward,
20251226171100_m13_secure_delete_tickets_rls_rollback.sql,M13,rollback,
20251226171200_m14_sync_mission_ticket_statut.sql,M14,forward,
20251226171200_m14_sync_mission_ticket_statut_rollback.sql,M14,rollback,
20251226180000_m15_allow_null_priorite_plafond.sql,M15,forward,
20251226180000_m15_allow_null_priorite_plafond_rollback.sql,M15,rollback,
20251226181000_m16_add_ventilation_check.sql,M16,forward,
20251226181000_m16_add_ventilation_check_rollback.sql,M16,rollback,
20251226190000_m17_fix_check_piece_case_insensitive.sql,M17,forward,
20251226190000_m17_fix_check_piece_case_insensitive_rollback.sql,M17,rollback,
20251226200000_m18_replace_triggers_with_rpc.sql,M18,forward,
20251226200000_m18_replace_triggers_with_rpc_rollback.sql,M18,rollback,
20251226210000_m19_audit_debug_rpc.sql,M19,debug,
20251226210000_m19_audit_debug_rpc_rollback.sql,M19,rollback,
20251226220000_m20_fix_rls_policy_insert.sql,M20,forward,
20251226220000_m20_fix_rls_policy_insert_rollback.sql,M20,rollback,
20251226230000_m21_rpc_create_ticket_locataire.sql,M21,forward,
20251226230000_m21_rpc_create_ticket_locataire_rollback.sql,M21,rollback,
20251226240000_m22_fix_notify_new_ticket.sql,M22,forward,
20251226240000_m22_fix_notify_new_ticket_rollback.sql,M22,rollback,
20251226250000_m23_fix_schema_notify.sql,M23,forward,
20251226260000_m24_rls_regie_select_tickets.sql,M24,forward,
20251226260000_m24_rls_regie_select_tickets_rollback.sql,M24,rollback,
20251227000000_m24_masquage_colonnes_sensibles.sql,M24,forward,
20251227000000_m24_masquage_colonnes_sensibles_rollback.sql,M24,rollback,
20251227000100_m25_validation_diffusion.sql,M25,forward,
20251227000100_m25_validation_diffusion_rollback.sql,M25,rollback,
20251227000200_m26_rls_insert_entreprises_regie.sql,M26,forward,
20251227000200_m26_rls_insert_entreprises_regie_rollback.sql,M26,rollback,
20251227000300_m27_expose_get_user_regie_id_rpc.sql,M27,forward,
20251227000300_m27_expose_get_user_regie_id_rpc_rollback.sql,M27,rollback,
20251227000400_m28_fix_rls_recursion_entreprises.sql,M28,forward,
20251227000400_m28_fix_rls_recursion_entreprises_rollback.sql,M28,rollback,
20251227000500_m29_final.sql,M29,forward,
20251227000500_m29_rpc_create_entreprise_complete.sql,M29,forward,
20251227000500_m29_rpc_create_entreprise_complete_rollback.sql,M29,rollback,
20251227000600_m30_fix_mode_diffusion.sql,M30,forward,
20251227000700_m31_add_tracabilite_tickets.sql,M31,forward,
20251227000700_m31_add_tracabilite_tickets_rollback.sql,M31,rollback,
20251227000800_m32_rpc_valider_ticket_regie.sql,M32,forward,
20251227000800_m32_rpc_valider_ticket_regie_rollback.sql,M32,rollback,
20251227000900_m33_rpc_get_entreprises_autorisees.sql,M33,forward,
20251227000900_m33_rpc_get_entreprises_autorisees_rollback.sql,M33,rollback,
20251227001000_m34_rls_entreprise_tickets.sql,M34,forward,
20251227001000_m34_rls_entreprise_tickets_rollback.sql,M34,rollback,
20251227001100_m35_harmonize_mode_diffusion.sql,M35,forward,
20251227001100_m35_harmonize_mode_diffusion_rollback.sql,M35,rollback,
20251227002000_m31_m34_workflow_tickets_complet.sql,M31,forward,
20251227002000_m31_m34_workflow_tickets_complet_rollback.sql,M31,rollback,
20260104000000_m31_m35_workflow_complet_consolidated.sql,M31,consolidated,
20260104001200_m36_fix_disponibilites_rule.sql,M36,forward,
20260104001200_m36_fix_disponibilites_rule_rollback.sql,M36,rollback,
20260104001300_m37_fix_vue_entreprise_terminologie.sql,M37,forward,
20260104001300_m37_fix_vue_entreprise_terminologie_rollback.sql,M37,rollback,
20260104001400_m38_rpc_update_mode_diffusion.sql,M38,forward,
20260104001400_m38_rpc_update_mode_diffusion_rollback.sql,M38,rollback,
20260104001500_m39_fix_rls_mode_diffusion.sql,M39,forward,
20260104001500_m39_fix_rls_mode_diffusion_rollback.sql,M39,rollback,
20260104001600_m40_fix_rls_disponibilites.sql,M40,forward,
20260104001600_m40_fix_rls_disponibilites_rollback.sql,M40,rollback,
20260104001700_m41_harmonize_rpc_acceptation.sql,M41,forward,
20260104001700_m41_harmonize_rpc_acceptation_rollback.sql,M41,rollback,
20260104001800_m42_add_disponibilite_id_missions.sql,M42,forward,
20260104001800_m42_add_disponibilite_id_missions_rollback.sql,M42,rollback,
M22.5.DEBUG_patch_raise_return.sql,NONE,debug,
M22.5_rpc_tickets_liste_detail_regie.sql,NONE,forward,
M22.6_validation_regies_nom_column.sql,NONE,forward,
M22_rpc_regie_dashboard_tickets.sql,NONE,forward,
M23_rpc_tickets_locataire.sql,NONE,forward,
VALIDATION_POST_MIGRATION.sql,NONE,validation,
debug_entreprise_login.sql,NONE,debug,
sanity_check_entreprise_workflow.sql,NONE,validation,
